<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Ruleta Zero Shake</title>
<style>
  body {
    margin: 0;
    font-family: 'Inter', 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
    background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);
    color: #fff;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    padding: 20px;
    box-sizing: border-box;
    position: relative;
    overflow: hidden;
  }
  
  .floating-particles {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 0;
  }
  
  .particle {
    position: absolute;
    background: radial-gradient(circle, rgba(0, 217, 206, 0.15), transparent);
    border-radius: 50%;
    animation: float linear infinite;
  }
  
  @keyframes float {
    0% {
      transform: translateY(100vh) rotate(0deg);
      opacity: 0;
    }
    10% {
      opacity: 1;
    }
    90% {
      opacity: 1;
    }
    100% {
      transform: translateY(-100px) rotate(360deg);
      opacity: 0;
    }
  }

  .card {
    background: rgba(255,255,255,0.03);
    backdrop-filter: blur(20px);
    border-radius: 24px;
    border: 1px solid rgba(255,255,255,0.1);
    padding: 35px;
    width: 98%;
    max-width: 600px;
    box-shadow: 0 20px 60px rgba(0,0,0,0.5);
    text-align: center;
    position: relative;
    overflow: hidden;
    margin-top: -80px;
    transform: scale(1.2075);
    z-index: 1;
    animation: cardEntrance 0.8s ease-out;
  }
  
  @keyframes cardEntrance {
    0% {
      opacity: 0;
      transform: scale(1.2075) translateY(30px);
    }
    100% {
      opacity: 1;
      transform: scale(1.2075) translateY(0);
    }
  }

  h1 {
    margin: 0 0 10px;
    font-size: 24px;
    background: linear-gradient(135deg, #00d9ce, #00a89e);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  p {
    font-size: 14px;
    opacity: 0.9;
  }

  input {
    width: 100%;
    padding: 14px;
    border-radius: 12px;
    border: 1px solid rgba(255,255,255,0.15);
    background: rgba(255,255,255,0.05);
    margin-top: 20px;
    font-size: 14px;
    outline: none;
    color: #fff;
    font-weight: 500;
    letter-spacing: 0.5px;
  }

  input::placeholder {
    color: rgba(255,255,255,0.4);
  }

  button {
    margin-top: 18px;
    width: 100%;
    padding: 16px;
    border: none;
    border-radius: 12px;
    font-size: 15px;
    font-weight: 600;
    /* Gradiente sutil premium */
    background: linear-gradient(180deg, #ffffff 0%, #f5f5f5 100%);
    color: #0a0a0a;
    cursor: pointer;
    transition: all .3s cubic-bezier(0.4, 0, 0.2, 1);
    letter-spacing: 0.5px;
    text-transform: uppercase;
    position: relative;
    overflow: hidden;
    /* Sombras suaves premium */
    box-shadow: 
      0 2px 8px rgba(0, 0, 0, 0.08),
      0 4px 16px rgba(0, 0, 0, 0.04),
      inset 0 1px 0 rgba(255, 255, 255, 0.8);
  }
  
  button:hover:not(:disabled) {
    transform: translateY(-1px);
    box-shadow: 
      0 4px 12px rgba(0, 0, 0, 0.12),
      0 8px 24px rgba(0, 0, 0, 0.08),
      inset 0 1px 0 rgba(255, 255, 255, 0.8);
  }
  
  button:active:not(:disabled) {
    transform: translateY(0);
    box-shadow: 
      0 1px 4px rgba(0, 0, 0, 0.12),
      inset 0 1px 0 rgba(255, 255, 255, 0.8);
  }
  
  button::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(0, 217, 206, 0.3), transparent);
    transition: left 0.5s ease;
  }
  
  button:active:not(:disabled)::before {
    left: 100%;
  }
  
  button.charging {
    animation: buttonCharge 0.8s ease-out;
  }
  
  @keyframes buttonCharge {
    0% {
      transform: scale(1);
      box-shadow: 
        0 2px 8px rgba(0, 0, 0, 0.08),
        0 4px 16px rgba(0, 0, 0, 0.04),
        inset 0 1px 0 rgba(255, 255, 255, 0.8);
    }
    50% {
      transform: scale(0.97);
      box-shadow: 
        0 0 20px rgba(0, 217, 206, 0.6),
        0 0 40px rgba(0, 217, 206, 0.3),
        inset 0 0 20px rgba(0, 217, 206, 0.15);
    }
    100% {
      transform: scale(1);
      box-shadow: 
        0 0 30px rgba(0, 217, 206, 0.7),
        0 0 60px rgba(0, 217, 206, 0.4),
        inset 0 0 30px rgba(0, 217, 206, 0.2);
    }
  }
  
  button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    transform: none;
  }

  .wheel-container {
    position: relative;
    margin: 25px auto;
    width: 448.8px;
    height: 448.8px;
    perspective: 1200px;
    perspective-origin: 50% 50%;
  }
  
  .wheel-container.spinning-3d {
    animation: containerTilt 4.5s ease-in-out;
  }
  
  @keyframes containerTilt {
    0% {
      perspective-origin: 50% 50%;
    }
    25% {
      perspective-origin: 60% 45%;
    }
    50% {
      perspective-origin: 50% 55%;
    }
    75% {
      perspective-origin: 40% 50%;
    }
    100% {
      perspective-origin: 50% 50%;
    }
  }
  
  .magic-particles {
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    pointer-events: none;
    z-index: 1;
  }
  
  .magic-particle {
    position: absolute;
    width: 4px;
    height: 4px;
    background: #00d9ce;
    border-radius: 50%;
    /* Glow aumentado - m√°s capas y m√°s intenso */
    box-shadow: 
      0 0 12px rgba(0, 217, 206, 1),
      0 0 20px rgba(0, 217, 206, 0.8),
      0 0 28px rgba(0, 217, 206, 0.6);
    animation: magicFloat linear infinite;
  }
  
  @keyframes magicFloat {
    0% {
      opacity: 0;
      transform: translate(0, 0) scale(0.5);
    }
    10% {
      opacity: 1;
    }
    90% {
      /* 50% m√°s opacas - antes terminaban en 1, ahora en 1.5 (pero max es 1, as√≠ que mantenemos en 1) */
      opacity: 1;
    }
    100% {
      /* 50% m√°s opacas - antes 0, ahora 0.5 */
      opacity: 0.5;
      transform: translate(var(--tx), var(--ty)) scale(1.2);
    }
  }

  .wheel {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    /* Borde cyan premium */
    border: 8px solid #00d9ce;
    box-shadow: 
      /* Brillo interior sutil */
      inset 0 0 0 1px rgba(0, 255, 237, 0.3),
      inset 0 0 6px rgba(0, 217, 206, 0.2),
      /* Glow exterior premium elegante */
      0 0 25px rgba(0, 217, 206, 0.5),
      0 0 50px rgba(0, 217, 206, 0.35),
      0 0 80px rgba(0, 217, 206, 0.2),
      0 0 120px rgba(0, 217, 206, 0.1),
      /* Sombra exterior profunda */
      0 12px 40px rgba(0,0,0,0.6),
      /* Sombras internas suavizadas y fotorrealistas */
      inset 0 0 80px rgba(0,0,0,0.35),
      inset 0 0 40px rgba(0,0,0,0.25),
      inset 0 -20px 50px rgba(0,0,0,0.3),
      inset 0 20px 40px rgba(255,255,255,0.06),
      inset 0 5px 15px rgba(255,255,255,0.04);
    position: relative;
    transition: transform 4s cubic-bezier(.17,.67,.26,1);
    background: 
      /* Micro-textura reducida 20% (m√°s sutil) */
      repeating-linear-gradient(
        0deg,
        transparent,
        transparent 2px,
        rgba(255,255,255,0.012) 2px,
        rgba(255,255,255,0.012) 4px
      ),
      repeating-linear-gradient(
        90deg,
        transparent,
        transparent 2px,
        rgba(0,0,0,0.016) 2px,
        rgba(0,0,0,0.016) 4px
      ),
      /* Brillo especular superior */
      radial-gradient(circle at 50% 35%, rgba(255,255,255,0.06) 0%, transparent 50%),
      /* Oscurecimiento central */
      radial-gradient(circle at 50% 50%, rgba(0,0,0,0.3) 0%, transparent 100%),
      /* Gradientes radiales por segmento para profundidad 3D */
      conic-gradient(
        from 0deg,
        #0a0a0a 0deg,
        #121212 36deg,
        #0a0a0a 72deg,
        #1a1a1a 72deg,
        #222222 108deg,
        #1a1a1a 144deg,
        #2d2d2d 144deg,
        #353535 180deg,
        #2d2d2d 216deg,
        #2d2d2d 216deg,
        #353535 252deg,
        #2d2d2d 288deg,
        #252525 288deg,
        #2d2d2d 324deg,
        #252525 360deg
      );
    display: flex;
    align-items: center;
    justify-content: center;
    animation: wheelIdle 6s ease-in-out infinite;
  }
  
  /* Reflejo especular que sigue la aguja */
  .wheel::after {
    content: '';
    position: absolute;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background: 
      /* Reflejo especular brillante */
      conic-gradient(
        from 0deg,
        transparent 0deg,
        transparent 165deg,
        rgba(255, 255, 255, 0.05) 170deg,
        rgba(255, 255, 255, 0.15) 175deg,
        rgba(255, 255, 255, 0.25) 178deg,
        rgba(255, 255, 255, 0.4) 180deg,
        rgba(255, 255, 255, 0.25) 182deg,
        rgba(255, 255, 255, 0.15) 185deg,
        rgba(255, 255, 255, 0.05) 190deg,
        transparent 195deg,
        transparent 360deg
      ),
      /* Glow cyan sutil debajo */
      conic-gradient(
        from 0deg,
        transparent 0deg,
        transparent 160deg,
        rgba(0, 217, 206, 0.1) 170deg,
        rgba(0, 217, 206, 0.2) 180deg,
        rgba(0, 217, 206, 0.1) 190deg,
        transparent 200deg,
        transparent 360deg
      );
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.3s ease;
    filter: blur(1px);
    z-index: 2;
  }
  
  .wheel.spinning::after {
    opacity: 1;
    animation: specularShine 0.2s ease-in-out infinite;
  }
  
  @keyframes specularShine {
    0%, 100% {
      opacity: 0.7;
      filter: blur(1px) brightness(1);
    }
    50% {
      opacity: 1;
      filter: blur(0.5px) brightness(1.2);
    }
  }
  
  .wheel.spinning {
    filter: blur(2px);
    box-shadow: 
      0 0 40px rgba(0,217,206,0.8),
      0 0 80px rgba(0,217,206,0.6),
      0 0 120px rgba(0,217,206,0.4),
      0 0 160px rgba(0,217,206,0.2),
      0 12px 40px rgba(0,0,0,0.6),
      inset 0 0 60px rgba(0,0,0,0.5),
      inset 0 -15px 40px rgba(0,0,0,0.4),
      inset 0 15px 30px rgba(255,255,255,0.08);
    transform-style: preserve-3d;
    animation: wheel3D 4.5s ease-in-out;
  }
  
  @keyframes wheel3D {
    0% {
      transform: rotateX(0deg) rotateY(0deg) rotate(0deg);
    }
    25% {
      transform: rotateX(3deg) rotateY(-3deg) rotate(var(--final-rotation, 0deg));
    }
    50% {
      transform: rotateX(-2deg) rotateY(3deg) rotate(var(--final-rotation, 0deg));
    }
    75% {
      transform: rotateX(2deg) rotateY(-2deg) rotate(var(--final-rotation, 0deg));
    }
    100% {
      transform: rotateX(0deg) rotateY(0deg) rotate(var(--final-rotation, 0deg));
    }
  }
  
  /* Efecto de glow premium al ganar */
  .wheel.winner {
    box-shadow: 
      0 0 60px rgba(0, 217, 206, 0.9),
      0 0 100px rgba(0, 217, 206, 0.7),
      0 0 140px rgba(0, 217, 206, 0.5),
      0 0 180px rgba(0, 217, 206, 0.3),
      inset 0 0 40px rgba(0, 217, 206, 0.15),
      0 12px 40px rgba(0,0,0,0.6),
      inset 0 0 60px rgba(0,0,0,0.5),
      inset 0 -15px 40px rgba(0,0,0,0.4),
      inset 0 15px 30px rgba(255,255,255,0.08);
    animation: winnerPulse 2s ease-in-out infinite;
  }
  
  @keyframes winnerPulse {
    0%, 100% {
      filter: brightness(1);
    }
    50% {
      filter: brightness(1.15);
    }
  }
  
  /* Confetti premium */
  .confetti {
    position: fixed;
    width: 10px;
    height: 10px;
    top: -10px;
    z-index: 9999;
    pointer-events: none;
  }
  
  .confetti.cyan {
    background: linear-gradient(135deg, #00d9ce 0%, #00ffed 100%);
    box-shadow: 0 0 8px rgba(0, 217, 206, 0.8);
  }
  
  .confetti.gold {
    background: linear-gradient(135deg, #ffd700 0%, #ffed4e 100%);
    box-shadow: 0 0 8px rgba(255, 215, 0, 0.8);
  }
  
  @keyframes confettiFall {
    0% {
      transform: translateY(0) rotateZ(0deg);
      opacity: 1;
    }
    100% {
      transform: translateY(115vh) rotateZ(720deg);
      opacity: 0;
    }
  }
  
  /* Highlight del segmento ganador */
  .wheel.winner-highlight span {
    transition: all 0.3s ease;
  }
  
  .wheel.winner-highlight span.winning-segment {
    color: #ffffff !important;
    text-shadow: 
      0 0 8px rgba(255, 255, 255, 0.8),
      0 0 16px rgba(255, 255, 255, 0.6),
      0 0 24px rgba(255, 255, 255, 0.5),
      0 2px 8px rgba(0,0,0,0.5) !important;
    animation: winningSegmentPulse 1s ease-in-out infinite;
  }
  
  .wheel.winner-highlight span.winning-segment::before {
    filter: 
      drop-shadow(0 0 6px rgba(255, 255, 255, 0.8))
      drop-shadow(0 0 12px rgba(255, 255, 255, 0.6))
      drop-shadow(0 1px 3px rgba(0,0,0,0.4)) !important;
    animation: none !important;
  }
  
  @keyframes winningSegmentPulse {
    0%, 100% {
      filter: brightness(1);
      text-shadow: 
        0 0 8px rgba(255, 255, 255, 0.8),
        0 0 16px rgba(255, 255, 255, 0.6),
        0 0 24px rgba(255, 255, 255, 0.5),
        0 2px 8px rgba(0,0,0,0.5);
    }
    50% {
      filter: brightness(1.1);
      text-shadow: 
        0 0 12px rgba(255, 255, 255, 0.9),
        0 0 24px rgba(255, 255, 255, 0.7),
        0 0 36px rgba(255, 255, 255, 0.6),
        0 2px 8px rgba(0,0,0,0.5);
    }
  }
  
  /* Part√≠culas de electricidad est√°tica */
  .electric-particle {
    position: absolute;
    width: 3px;
    height: 20px;
    background: linear-gradient(180deg, 
      rgba(0, 255, 237, 0) 0%, 
      rgba(0, 255, 237, 1) 50%, 
      rgba(0, 255, 237, 0) 100%);
    border-radius: 2px;
    pointer-events: none;
    filter: blur(0.5px);
    box-shadow: 
      0 0 4px rgba(0, 255, 237, 0.8),
      0 0 8px rgba(0, 217, 206, 0.6);
    animation: electricZap 0.4s ease-in-out;
    opacity: 0;
  }
  
  @keyframes electricZap {
    0% {
      opacity: 0;
      transform: scale(0.5) translateY(0);
    }
    20% {
      opacity: 1;
      transform: scale(1) translateY(-5px);
    }
    40% {
      opacity: 0.8;
      transform: scale(1.1) translateY(-3px);
    }
    60% {
      opacity: 0.6;
      transform: scale(0.9) translateY(-7px);
    }
    80% {
      opacity: 0.3;
      transform: scale(1) translateY(-10px);
    }
    100% {
      opacity: 0;
      transform: scale(0.5) translateY(-15px);
    }
  }
  
  @keyframes wheelIdle {
    0%, 100% {
      transform: scale(1) rotate(0deg);
    }
    25% {
      transform: scale(1.015) rotate(0.5deg);
    }
    50% {
      transform: scale(1.02) rotate(0deg);
    }
    75% {
      transform: scale(1.015) rotate(-0.5deg);
    }
  }
  
  .wheel-dividers {
    position: absolute;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background: 
      conic-gradient(from 0deg, transparent 0deg, rgba(255,255,255,0.15) 0deg, rgba(255,255,255,0.15) 0.8deg, transparent 0.8deg),
      conic-gradient(from 72deg, transparent 0deg, rgba(255,255,255,0.15) 0deg, rgba(255,255,255,0.15) 0.8deg, transparent 0.8deg),
      conic-gradient(from 144deg, transparent 0deg, rgba(255,255,255,0.15) 0deg, rgba(255,255,255,0.15) 0.8deg, transparent 0.8deg),
      conic-gradient(from 216deg, transparent 0deg, rgba(255,255,255,0.15) 0deg, rgba(255,255,255,0.15) 0.8deg, transparent 0.8deg),
      conic-gradient(from 288deg, transparent 0deg, rgba(255,255,255,0.15) 0deg, rgba(255,255,255,0.15) 0.8deg, transparent 0.8deg);
    pointer-events: none;
  }
  
  .wheel::after {
    content: '';
    position: absolute;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-image: url("data:image/svg+xml,%3Csvg width='448' height='448' xmlns='http://www.w3.org/2000/svg'%3E%3Cg transform='translate(224,224)'%3E%3Cline x1='0' y1='0' x2='0' y2='-224' stroke='rgba(255,255,255,0.9)' stroke-width='4'/%3E%3Cline x1='0' y1='0' x2='0' y2='-224' stroke='rgba(255,255,255,0.9)' stroke-width='4' transform='rotate(72)'/%3E%3Cline x1='0' y1='0' x2='0' y2='-224' stroke='rgba(255,255,255,0.9)' stroke-width='4' transform='rotate(144)'/%3E%3Cline x1='0' y1='0' x2='0' y2='-224' stroke='rgba(255,255,255,0.9)' stroke-width='4' transform='rotate(216)'/%3E%3Cline x1='0' y1='0' x2='0' y2='-224' stroke='rgba(255,255,255,0.9)' stroke-width='4' transform='rotate(288)'/%3E%3C/g%3E%3C/svg%3E");
    background-size: 100% 100%;
    background-position: center;
    pointer-events: none;
    filter: drop-shadow(0 0 3px rgba(255,255,255,0.7)) drop-shadow(0 0 1px rgba(255,255,255,1));
    z-index: 1;
  }
  
  .center-circle {
    position: absolute;
    width: 97.2px;
    height: 97.2px;
    background: 
      /* Gradiente diagonal para profundidad */
      linear-gradient(135deg, rgba(255,255,255,0.5) 0%, rgba(255,255,255,0.15) 100%),
      /* Highlight superior izquierdo m√°s intenso */
      radial-gradient(circle at 25% 25%, rgba(255,255,255,0.7) 0%, transparent 45%),
      /* Base transl√∫cida con tinte cyan */
      radial-gradient(circle, rgba(223,247,255,0.8) 0%, rgba(230,255,255,0.7) 100%);
    border-radius: 50%;
    border: 3px solid rgba(0,217,206,0.7);
    /* Glassmorphism fuerte */
    backdrop-filter: blur(15px) saturate(150%);
    -webkit-backdrop-filter: blur(15px) saturate(150%);
    box-shadow: 
      /* Glow exterior */
      0 0 30px rgba(0,217,206,0.6),
      0 10px 40px rgba(0,217,206,0.3),
      /* Sombras interiores profundas */
      inset 0 0 40px rgba(255,255,255,0.4),
      inset 0 2px 0 rgba(255,255,255,0.9),
      inset 0 -2px 0 rgba(0,0,0,0.15),
      inset 3px 3px 10px rgba(255,255,255,0.5),
      inset -3px -3px 10px rgba(0,217,206,0.2),
      /* Sombra interior oscura para profundidad */
      inset 0 0 20px rgba(0,0,0,0.08);
    z-index: 5;
    transition: transform 0.3s ease;
  }
  
  /* Zoom ligero al girar */
  .wheel.spinning + .center-circle {
    transform: scale(1.05);
  }
  
  /* Efecto de refracci√≥n/brillo en el vidrio mejorado */
  .center-circle::before {
    content: '';
    position: absolute;
    top: 8%;
    left: 12%;
    width: 45%;
    height: 45%;
    background: radial-gradient(circle, rgba(255,255,255,0.8) 0%, rgba(255,255,255,0.3) 50%, transparent 75%);
    border-radius: 50%;
    filter: blur(4px);
    pointer-events: none;
  }
  
  .mascot-logo {
    position: absolute;
    width: 78.75px;
    height: 78.75px;
    z-index: 6;
    filter: drop-shadow(0 3px 6px rgba(0,0,0,0.12)) drop-shadow(0 1px 3px rgba(0,0,0,0.08));
    animation: breathe 3.5s ease-in-out infinite;
    transition: transform 0.3s ease;
  }
  
  /* Expresi√≥n de emoci√≥n al girar */
  .mascot-logo.excited {
    animation: mascotExcited 0.5s ease-in-out infinite, breathe 3.5s ease-in-out infinite;
    filter: 
      drop-shadow(0 3px 6px rgba(0,0,0,0.12)) 
      drop-shadow(0 1px 3px rgba(0,0,0,0.08))
      drop-shadow(0 0 8px rgba(0, 217, 206, 0.3));
  }
  
  @keyframes mascotExcited {
    0%, 100% {
      transform: scale(1);
    }
    50% {
      transform: scale(1.08);
    }
  }
  
  @keyframes breathe {
    0%, 100% {
      transform: scaleY(1);
    }
    50% {
      transform: scaleY(1.015);
    }
  }

  .wheel span {
    position: absolute;
    left: 50%;
    top: 50%;
    transform-origin: 0% 0%;
    text-align: center;
    font-weight: 700;
    font-size: 14.5475px;
    pointer-events: none;
    line-height: 1.3;
    width: 85px;
    margin-top: -8px;
    margin-left: -5px;
    color: #ffffff;
    text-shadow: 
      0 2px 8px rgba(0,0,0,0.5);
    letter-spacing: 1.6px;
    text-transform: uppercase;
    opacity: 0.95;
  }
  
  .wheel span::before {
    content: attr(data-icon);
    display: block;
    font-size: 22.264px;
    margin-bottom: 2px;
    filter: drop-shadow(0 1px 3px rgba(0,0,0,0.4));
    animation: iconGlow 3s ease-in-out infinite;
  }
  
  @keyframes iconGlow {
    0%, 100% {
      filter: 
        drop-shadow(0 1px 3px rgba(0,0,0,0.4))
        drop-shadow(0 0 2px rgba(0,217,206,0));
      transform: rotate(0deg) scale(1);
    }
    50% {
      filter: 
        drop-shadow(0 1px 3px rgba(0,0,0,0.4))
        drop-shadow(0 0 8px rgba(0,217,206,0.6));
      transform: rotate(5deg) scale(1.05);
    }
  }

  .wheel span:nth-child(3) { 
    transform: rotate(180deg) translateX(96px) rotate(-90deg);
    /* Color gris claro */
    color: #EAEAEA !important;
    /* Tama√±o +8% */
    font-size: 15.71px;
  }
  .wheel span:nth-child(3)::before {
    animation-delay: 0s;
    /* Icono gris claro */
    color: #EAEAEA;
    /* Tama√±o icono +8% */
    font-size: 24.05px;
  }
  
  .wheel span:nth-child(4) { 
    transform: rotate(252deg) translateX(96px) rotate(-90deg);
    /* Color cyan del borde con glow */
    color: #00d9ce !important;
    text-shadow: 
      0 0 8px rgba(0, 217, 206, 0.8),
      0 0 16px rgba(0, 217, 206, 0.6),
      0 0 24px rgba(0, 217, 206, 0.4),
      0 2px 8px rgba(0,0,0,0.5) !important;
    /* Tama√±o +12% */
    font-size: 16.29px;
  }
  .wheel span:nth-child(4)::before {
    animation-delay: 0.6s;
    /* Icono cyan con glow */
    color: #00d9ce;
    filter: 
      drop-shadow(0 0 6px rgba(0, 217, 206, 0.9))
      drop-shadow(0 0 12px rgba(0, 217, 206, 0.7))
      drop-shadow(0 1px 3px rgba(0,0,0,0.4)) !important;
    /* Tama√±o icono +12% */
    font-size: 24.94px;
  }
  
  .wheel span:nth-child(5) { 
    transform: rotate(324deg) translateX(96px) rotate(-90deg);
    /* Tama√±o +8% */
    font-size: 15.71px;
  }
  .wheel span:nth-child(5)::before {
    animation-delay: 1.2s;
    /* Tama√±o icono +8% */
    font-size: 24.05px;
  }
  
  .wheel span:nth-child(6) { 
    transform: rotate(36deg) translateX(96px) rotate(-90deg);
    /* Estilo dorado especial para PREMIO SORPRESA */
    color: #C9A24D !important;
    text-shadow: 
      0 0 8px rgba(201, 162, 77, 0.6),
      0 0 16px rgba(201, 162, 77, 0.4),
      0 2px 8px rgba(0,0,0,0.5) !important;
    /* Tama√±o +9% */
    font-size: 15.86px;
  }
  
  .wheel span:nth-child(6)::before {
    animation-delay: 1.8s;
    /* Icono estrella dorado con glow */
    color: #C9A24D;
    filter: 
      drop-shadow(0 0 6px rgba(201, 162, 77, 0.7))
      drop-shadow(0 0 12px rgba(201, 162, 77, 0.5))
      drop-shadow(0 1px 3px rgba(0,0,0,0.4)) !important;
    /* Tama√±o icono +9% */
    font-size: 24.27px;
  }
  
  .wheel span:nth-child(7) { 
    transform: rotate(104deg) translateX(96px) rotate(-90deg);
    /* Color gris neutro */
    color: #BFBFBF !important;
    text-shadow: 
      0 2px 8px rgba(0,0,0,0.5) !important;
    /* Tama√±o +8% */
    font-size: 15.71px;
  }
  .wheel span:nth-child(7)::before {
    animation: none !important; /* Sin animaci√≥n para SIGUE CUID√ÅNDOTE */
    color: #BFBFBF;
    filter: drop-shadow(0 1px 3px rgba(0,0,0,0.4)) !important;
    /* Tama√±o icono +8% */
    font-size: 24.05px;
  }

  .needle {
    position: absolute;
    top: 50%;
    left: -25px;
    transform: translateY(-50%) rotate(-90deg);
    width: 0;
    height: 0;
    border-left: 15px solid transparent;
    border-right: 15px solid transparent;
    border-top: 50px solid #00d9ce;
    z-index: 10;
    /* Sombra suave + mini glow + brillo interno */
    filter: 
      drop-shadow(0 2px 6px rgba(0, 0, 0, 0.3))
      drop-shadow(0 0 8px rgba(0, 217, 206, 0.6))
      drop-shadow(0 0 16px rgba(0, 217, 206, 0.4))
      drop-shadow(0 0 24px rgba(0, 217, 206, 0.2))
      brightness(1.1);
  }
  
  /* Pseudo-elemento para simular brillo interno */
  .needle::before {
    content: '';
    position: absolute;
    top: -45px;
    left: -12px;
    width: 24px;
    height: 40px;
    background: linear-gradient(
      180deg,
      rgba(0, 255, 237, 0.4) 0%,
      rgba(0, 217, 206, 0.2) 50%,
      transparent 100%
    );
    clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
    pointer-events: none;
    filter: blur(2px);
  }

  .result {
    margin-top: 20px;
    font-size: 16px;
    font-weight: 600;
    min-height: 24px;
  }
  
  .prize-won {
    animation: fadeInScale 0.6s ease-out;
    margin-bottom: 8px;
  }
  
  .try-again {
    animation: fadeIn 0.6s ease-out;
  }
  
  @keyframes fadeInScale {
    0% {
      opacity: 0;
      transform: scale(0.9);
    }
    100% {
      opacity: 1;
      transform: scale(1);
    }
  }
  
  @keyframes fadeIn {
    0% {
      opacity: 0;
    }
    100% {
      opacity: 1;
    }
  }
  
  .confetti {
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    pointer-events: none;
    overflow: hidden;
  }
  
  .confetti-piece {
    position: absolute;
    width: 8px;
    height: 8px;
    background: #00d9ce;
    opacity: 0;
    animation: confettiFall 1.2s ease-out forwards;
  }
  
  @keyframes confettiFall {
    0% {
      opacity: 1;
      transform: translateY(0) rotate(0deg);
    }
    100% {
      opacity: 0;
      transform: translateY(150px) rotate(360deg);
    }
  }
  
  .loading {
    display: inline-block;
  }
  
  .loading-dots::after {
    content: '';
    animation: dots 1.5s steps(4, end) infinite;
  }
  
  @keyframes dots {
    0%, 20% { content: '.'; }
    40% { content: '..'; }
    60%, 100% { content: '...'; }
  }
  
  @keyframes prizeGlow {
    0%, 100% {
      text-shadow: 
        0 0 10px rgba(0, 217, 206, 0.8),
        0 0 20px rgba(0, 217, 206, 0.6),
        0 0 30px rgba(0, 217, 206, 0.4),
        0 2px 8px rgba(0, 0, 0, 0.5);
      transform: scale(1);
    }
    50% {
      text-shadow: 
        0 0 20px rgba(0, 217, 206, 1),
        0 0 40px rgba(0, 217, 206, 0.8),
        0 0 60px rgba(0, 217, 206, 0.6),
        0 2px 8px rgba(0, 0, 0, 0.5);
      transform: scale(1.05);
    }
  }
  
  @keyframes wheelPulse {
    0%, 100% {
      filter: brightness(1);
    }
    50% {
      filter: brightness(0.85);
    }
  }

  .small {
    margin-top: 10px;
    font-size: 12px;
    opacity: 0.7;
  }
  
  .prize-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.85);
    backdrop-filter: blur(8px);
    z-index: 1000;
    display: flex;
    align-items: center;
    justify-content: center;
    animation: overlayFadeIn 0.4s ease-out;
  }
  
  @keyframes overlayFadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
  
  .prize-card {
    background: linear-gradient(135deg, rgba(0, 217, 206, 0.15), rgba(0, 168, 158, 0.15));
    backdrop-filter: blur(20px);
    border: 2px solid rgba(0, 217, 206, 0.5);
    border-radius: 24px;
    padding: 83px 67px;
    max-width: 745px;
    text-align: center;
    animation: prizeCardAppear 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) 0.2s both;
    box-shadow: 
      0 0 60px rgba(0, 217, 206, 0.4),
      0 20px 60px rgba(0, 0, 0, 0.6),
      inset 0 1px 0 rgba(255, 255, 255, 0.1);
  }
  
  @keyframes prizeCardAppear {
    0% {
      opacity: 0;
      transform: scale(0.8) translateY(30px);
    }
    100% {
      opacity: 1;
      transform: scale(1) translateY(0);
    }
  }
  
  .prize-icon {
    font-size: 80px;
    margin-bottom: 20px;
    animation: prizeIconPulse 1s ease-in-out infinite;
    filter: drop-shadow(0 0 20px rgba(0, 217, 206, 0.6));
  }
  
  /* Estilos dorados para PREMIO SORPRESA en overlay */
  .prize-overlay.golden .prize-icon {
    filter: drop-shadow(0 0 20px rgba(201, 162, 77, 0.6));
  }
  
  .prize-overlay.golden .prize-icon {
    animation: prizeIconPulseGold 1s ease-in-out infinite;
  }
  
  @keyframes prizeIconPulseGold {
    0%, 100% {
      transform: scale(1);
      filter: drop-shadow(0 0 20px rgba(201, 162, 77, 0.6));
    }
    50% {
      transform: scale(1.1);
      filter: drop-shadow(0 0 40px rgba(201, 162, 77, 0.8));
    }
  }
  
  .prize-overlay.golden .prize-name {
    background: linear-gradient(135deg, #C9A24D, #D4B266);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  
  .prize-overlay.golden .prize-name {
    animation: prizeNameGlowGold 2s ease-in-out infinite;
  }
  
  @keyframes prizeNameGlowGold {
    0%, 100% {
      filter: drop-shadow(0 0 10px rgba(201, 162, 77, 0.4));
    }
    50% {
      filter: drop-shadow(0 0 20px rgba(201, 162, 77, 0.7));
    }
  }
  
  @keyframes prizeIconPulse {
    0%, 100% {
      transform: scale(1);
      filter: drop-shadow(0 0 20px rgba(0, 217, 206, 0.6));
    }
    50% {
      transform: scale(1.1);
      filter: drop-shadow(0 0 40px rgba(0, 217, 206, 0.8));
    }
  }
  
  .prize-title {
    font-size: 16px;
    color: rgba(255, 255, 255, 0.7);
    text-transform: uppercase;
    letter-spacing: 3px;
    margin-bottom: 15px;
    font-weight: 600;
  }
  
  .prize-name {
    font-size: 32px;
    font-weight: 800;
    background: linear-gradient(135deg, #00d9ce, #00ffed);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin-bottom: 30px;
    animation: prizeNameGlow 2s ease-in-out infinite;
  }
  
  @keyframes prizeNameGlow {
    0%, 100% {
      filter: drop-shadow(0 0 10px rgba(0, 217, 206, 0.3));
    }
    50% {
      filter: drop-shadow(0 0 20px rgba(0, 217, 206, 0.6));
    }
  }
  
  .prize-cta {
    background: linear-gradient(135deg, #00d9ce, #00a89e);
    color: #000;
    border: none;
    padding: 18px 50px;
    font-size: 18px;
    font-weight: 800;
    border-radius: 12px;
    cursor: pointer;
    text-transform: uppercase;
    letter-spacing: 2px;
    transition: all 0.3s ease;
    box-shadow: 
      0 0 30px rgba(0, 217, 206, 0.5),
      0 8px 20px rgba(0, 0, 0, 0.3);
    animation: ctaPulse 2s ease-in-out infinite;
  }
  
  @keyframes ctaPulse {
    0%, 100% {
      transform: scale(1);
      box-shadow: 
        0 0 30px rgba(0, 217, 206, 0.5),
        0 8px 20px rgba(0, 0, 0, 0.3);
    }
    50% {
      transform: scale(1.05);
      box-shadow: 
        0 0 50px rgba(0, 217, 206, 0.8),
        0 12px 30px rgba(0, 0, 0, 0.4);
    }
  }
  
  .prize-cta:hover {
    transform: scale(1.08) translateY(-2px);
    box-shadow: 
      0 0 60px rgba(0, 217, 206, 1),
      0 15px 40px rgba(0, 0, 0, 0.5);
  }
  
  .prize-particles {
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    pointer-events: none;
    overflow: hidden;
  }
  
  .prize-particle {
    position: absolute;
    width: 8px;
    height: 8px;
    background: #00d9ce;
    border-radius: 50%;
    animation: particleFloat 3s ease-in-out infinite;
    opacity: 0;
  }
  
  @keyframes particleFloat {
    0% {
      opacity: 0;
      transform: translateY(0) scale(0);
    }
    10% {
      opacity: 1;
    }
    90% {
      opacity: 1;
    }
    100% {
      opacity: 0;
      transform: translateY(-200px) scale(1.5);
    }
  }

</style>
</head>
<body>

<div class="floating-particles" id="particles"></div>

<div class="card">
  <h1>üé∞ Ruleta Zero Shake</h1>
  <p>Ingresa tu c√≥digo y gira la ruleta</p>

  <input id="codigo" placeholder="Ej: ZS-DEMO-01">
  <button onclick="girar()">Girar ruleta</button>

  <div class="wheel-container">
    <div class="magic-particles" id="magicParticles"></div>
    <div class="needle"></div>
    <div class="wheel" id="wheel">
      <div class="center-circle"></div>
      <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='13 50 174 204'%3E%3Cdefs%3E%3CradialGradient id='dropMain' cx='35%25' cy='30%25'%3E%3Cstop offset='0%25' stop-color='%23f0fcff'/%3E%3Cstop offset='30%25' stop-color='%23b8ecff'/%3E%3Cstop offset='60%25' stop-color='%2370d8ff'/%3E%3Cstop offset='100%25' stop-color='%2340c0f0'/%3E%3C/radialGradient%3E%3CradialGradient id='shirtGradient' cx='30%25' cy='25%25'%3E%3Cstop offset='0%25' stop-color='%23a8f0ff'/%3E%3Cstop offset='50%25' stop-color='%2380dcff'/%3E%3Cstop offset='100%25' stop-color='%2360d5f0'/%3E%3C/radialGradient%3E%3CradialGradient id='pantsGradient' cx='30%25' cy='20%25'%3E%3Cstop offset='0%25' stop-color='%23008899'/%3E%3Cstop offset='60%25' stop-color='%23006677'/%3E%3Cstop offset='100%25' stop-color='%23004455'/%3E%3C/radialGradient%3E%3CradialGradient id='hatGreen' cx='35%25' cy='30%25'%3E%3Cstop offset='0%25' stop-color='%23d0ff90'/%3E%3Cstop offset='50%25' stop-color='%23b8ff70'/%3E%3Cstop offset='100%25' stop-color='%2390e850'/%3E%3C/radialGradient%3E%3CradialGradient id='cheekGrad'%3E%3Cstop offset='0%25' stop-color='%23ffb8d8' opacity='0.8'/%3E%3Cstop offset='70%25' stop-color='%23ffb8d8' opacity='0.5'/%3E%3Cstop offset='100%25' stop-color='%23ffb8d8' opacity='0'/%3E%3C/radialGradient%3E%3CradialGradient id='shineGrad1'%3E%3Cstop offset='0%25' stop-color='%23EAFBFF' opacity='0.4'/%3E%3Cstop offset='40%25' stop-color='%23DFF6FF' opacity='0.25'/%3E%3Cstop offset='70%25' stop-color='%23DFF6FF' opacity='0.08'/%3E%3Cstop offset='100%25' stop-color='%23DFF6FF' opacity='0'/%3E%3C/radialGradient%3E%3CradialGradient id='shineGrad2'%3E%3Cstop offset='0%25' stop-color='%23EAFBFF' opacity='0.35'/%3E%3Cstop offset='50%25' stop-color='%23DFF6FF' opacity='0.18'/%3E%3Cstop offset='80%25' stop-color='%23DFF6FF' opacity='0.04'/%3E%3Cstop offset='100%25' stop-color='%23DFF6FF' opacity='0'/%3E%3C/radialGradient%3E%3CradialGradient id='shineGrad3'%3E%3Cstop offset='0%25' stop-color='%23EAFBFF' opacity='0.3'/%3E%3Cstop offset='60%25' stop-color='%23DFF6FF' opacity='0.12'/%3E%3Cstop offset='100%25' stop-color='%23DFF6FF' opacity='0'/%3E%3C/radialGradient%3E%3CradialGradient id='shineHeadSubtle'%3E%3Cstop offset='0%25' stop-color='%23EAFBFF' opacity='0.25'/%3E%3Cstop offset='40%25' stop-color='%23DFF6FF' opacity='0.12'/%3E%3Cstop offset='70%25' stop-color='%23DFF6FF' opacity='0.04'/%3E%3Cstop offset='100%25' stop-color='%23DFF6FF' opacity='0'/%3E%3C/radialGradient%3E%3Cfilter id='shadowBlur'%3E%3CfeGaussianBlur in='SourceGraphic' stdDeviation='3'/%3E%3C/filter%3E%3Cfilter id='softGlow'%3E%3CfeGaussianBlur in='SourceGraphic' stdDeviation='4'/%3E%3C/filter%3E%3Cfilter id='subtleGlow'%3E%3CfeGaussianBlur in='SourceGraphic' stdDeviation='12'/%3E%3C/filter%3E%3C/defs%3E%3Cellipse cx='100' cy='248' rx='42' ry='9' fill='%23000000' opacity='0.12' filter='url(%23shadowBlur)'/%3E%3Cellipse cx='88' cy='232' rx='26.5' ry='15.5' fill='%23f0f0f0'/%3E%3Cellipse cx='112' cy='232' rx='26.5' ry='15.5' fill='%23f0f0f0'/%3E%3Cellipse cx='88' cy='239' rx='8' ry='3' fill='%23000000' opacity='0.2'/%3E%3Cellipse cx='112' cy='239' rx='8' ry='3' fill='%23000000' opacity='0.2'/%3E%3Cellipse cx='95' cy='237' rx='8.8' ry='6.1' fill='%23000000' opacity='0.15'/%3E%3Cellipse cx='118' cy='237' rx='8.8' ry='6.1' fill='%23000000' opacity='0.15'/%3E%3Cpath d='M 64 232 Q 71 226 88 226 L 98 241 Q 88 240 71 240 Z' fill='%2360d5ff'/%3E%3Cpath d='M 136 232 Q 129 226 112 226 L 102 241 Q 112 240 129 240 Z' fill='%2360d5ff'/%3E%3Cpath d='M 71 228 L 88 228' stroke='%23ddd' stroke-width='3.1'/%3E%3Cpath d='M 129 228 L 112 228' stroke='%23ddd' stroke-width='3.1'/%3E%3Cellipse cx='82' cy='227' rx='5.9' ry='4.7' fill='%2380ddff' opacity='0.6'/%3E%3Cellipse cx='118' cy='227' rx='5.9' ry='4.7' fill='%2380ddff' opacity='0.6'/%3E%3Cellipse cx='80' cy='227' rx='14.7' ry='9.4' fill='url(%23shineGrad2)' filter='url(%23softGlow)'/%3E%3Cellipse cx='120' cy='227' rx='14.7' ry='9.4' fill='url(%23shineGrad2)' filter='url(%23softGlow)'/%3E%3Cpath d='M 79 210 L 78 225 Q 78 229 83 229 L 97 229 Q 102 229 102 225 L 101 210 Z' fill='url(%23pantsGradient)'/%3E%3Cpath d='M 104 210 L 103 225 Q 103 229 108 229 L 120 229 Q 125 229 125 225 L 123 210 Z' fill='url(%23pantsGradient)'/%3E%3Cellipse cx='80' cy='214' rx='5.5' ry='6' fill='%23ffffff' opacity='0.2'/%3E%3Cellipse cx='108' cy='214' rx='5.5' ry='6' fill='%23ffffff' opacity='0.2'/%3E%3Cellipse cx='95' cy='220' rx='4.4' ry='11' fill='%23000000' opacity='0.05'/%3E%3Cellipse cx='108' cy='220' rx='4.4' ry='11' fill='%23000000' opacity='0.05'/%3E%3Cellipse cx='123' cy='223' rx='5.5' ry='7' fill='%23000000' opacity='0.12'/%3E%3Cellipse cx='125' cy='227' rx='4.4' ry='5' fill='%23000000' opacity='0.1'/%3E%3Cpath d='M 100 75 Q 64 79 57 99 Q 52 119 57 139 Q 62 156 68 169 Q 70 175 71 182 L 71 197 Q 71 205 78 210 L 122 210 Q 129 205 129 197 L 129 182 Q 130 175 132 169 Q 138 156 143 139 Q 148 119 143 99 Q 136 79 100 75 Z' fill='url(%23dropMain)'/%3E%3Cellipse cx='67' cy='80' rx='8' ry='10' fill='%23000000' opacity='0.08'/%3E%3Cellipse cx='133' cy='80' rx='8' ry='10' fill='%23000000' opacity='0.08'/%3E%3Cellipse cx='63' cy='85' rx='6' ry='12' fill='url(%23shineGrad2)' filter='url(%23softGlow)'/%3E%3Cellipse cx='137' cy='85' rx='6' ry='12' fill='url(%23shineGrad2)' filter='url(%23softGlow)'/%3E%3Cellipse cx='60' cy='143' rx='5' ry='28' fill='%23000000' opacity='0.05'/%3E%3Cellipse cx='140' cy='143' rx='5' ry='28' fill='%23000000' opacity='0.05'/%3E%3Cellipse cx='125' cy='161' rx='8' ry='20' fill='%23000000' opacity='0.1'/%3E%3Cellipse cx='130' cy='179' rx='6' ry='14' fill='%23000000' opacity='0.08'/%3E%3Cellipse cx='73' cy='101' rx='20' ry='32' fill='url(%23shineGrad2)' filter='url(%23softGlow)'/%3E%3Cpath d='M 68 169 Q 63 177 63 189 L 63 200 Q 63 206 70 210 L 130 210 Q 137 206 137 200 L 137 189 Q 137 177 132 169 Z' fill='url(%23shirtGradient)' opacity='0.9'/%3E%3Cpath d='M 100 193 Q 95.01 189.32 95.01 182.79 Q 95.01 176.26 100 173.63 Q 104.99 176.26 104.99 182.79 Q 104.99 189.32 100 193 M 100 173.63 L 100 193' fill='%23b8ff70' stroke='%2390e850' stroke-width='0.899' opacity='0.95'/%3E%3Cpath d='M 60 167 Q 46 169 36 180 L 34 190 Q 34 195 39 198 L 57 198 Q 70 198 73 193 L 75 180 Q 75 169 68 167 Q 64 165 60 167 Z' fill='url(%23dropMain)'/%3E%3Cpath d='M 140 167 Q 154 169 164 180 L 166 190 Q 166 195 161 198 L 143 198 Q 130 198 127 193 L 125 180 Q 125 169 132 167 Q 136 165 140 167 Z' fill='url(%23dropMain)'/%3E%3Cellipse cx='58' cy='173' rx='11' ry='11' fill='url(%23shineGrad1)' filter='url(%23softGlow)'/%3E%3Cellipse cx='142' cy='173' rx='11' ry='11' fill='url(%23shineGrad1)' filter='url(%23softGlow)'/%3E%3Cellipse cx='47' cy='189' rx='8' ry='9' fill='%23000000' opacity='0.05'/%3E%3Cellipse cx='153' cy='189' rx='8' ry='9' fill='%23000000' opacity='0.05'/%3E%3Cellipse cx='164' cy='192' rx='9' ry='11' fill='%23000000' opacity='0.12'/%3E%3Cellipse cx='166' cy='200' rx='8' ry='9' fill='%23000000' opacity='0.1'/%3E%3Cellipse cx='59' cy='198' rx='11' ry='3' fill='%23000000' opacity='0.2'/%3E%3Cellipse cx='141' cy='198' rx='11' ry='3' fill='%23000000' opacity='0.2'/%3E%3Cellipse cx='65' cy='200' rx='8' ry='2' fill='%23000000' opacity='0.15'/%3E%3Cellipse cx='135' cy='200' rx='8' ry='2' fill='%23000000' opacity='0.15'/%3E%3Cellipse cx='49' cy='199' rx='11' ry='6' fill='%23f8f8f8' opacity='0.95'/%3E%3Cellipse cx='151' cy='199' rx='11' ry='6' fill='%23f8f8f8' opacity='0.95'/%3E%3Cellipse cx='61' cy='166' rx='4.5' ry='7' fill='%23ffffff' opacity='0'/%3E%3Cellipse cx='139' cy='166' rx='4.5' ry='7' fill='%23ffffff' opacity='0'/%3E%3Ccircle cx='63' cy='162' r='2' fill='%23ffffff' opacity='0'/%3E%3Ccircle cx='137' cy='162' r='2' fill='%23ffffff' opacity='0'/%3E%3Cellipse cx='43' cy='206' rx='11' ry='12' fill='%23f8f8f8'/%3E%3Cellipse cx='157' cy='206' rx='11' ry='12' fill='%23f8f8f8'/%3E%3Cellipse cx='41' cy='203' rx='9' ry='10' fill='url(%23shineGrad1)' filter='url(%23softGlow)'/%3E%3Cellipse cx='159' cy='203' rx='9' ry='10' fill='url(%23shineGrad1)' filter='url(%23softGlow)'/%3E%3Cpath d='M 100 85 Q 50 88 42 117 Q 38 133 42 149 Q 48 162 66 171 Q 88 178 100 179 Q 112 178 134 171 Q 152 162 158 149 Q 162 133 158 117 Q 150 88 100 85 Z' fill='url(%23dropMain)'/%3E%3Cellipse cx='100' cy='177' rx='30' ry='5.5' fill='%23000000' opacity='0.08'/%3E%3Cellipse cx='100' cy='175' rx='26' ry='3.5' fill='%23000000' opacity='0.06'/%3E%3Cellipse cx='124' cy='161' rx='15' ry='18' fill='%23000000' opacity='0.12'/%3E%3Cellipse cx='130' cy='151' rx='11' ry='15' fill='%23000000' opacity='0.08'/%3E%3Cellipse cx='77' cy='105' rx='26' ry='36' fill='url(%23shineHeadSubtle)' filter='url(%23subtleGlow)'/%3E%3Cellipse cx='85' cy='110' rx='32' ry='42' fill='url(%23shineHeadSubtle)' opacity='0.25' filter='url(%23subtleGlow)'/%3E%3Cpath d='M 100 50.5 Q 98.5 54 97.5 60 Q 96 68 94 78 Q 92 84 91 87 L 100 88 L 109 87 Q 108 84 106 78 Q 104 68 102.5 60 Q 101.5 54 100 50.5 Z' fill='%2360d5ff'/%3E%3Cellipse cx='100' cy='70' rx='5.5' ry='16' fill='%2398e5ff' opacity='0.5'/%3E%3Ccircle cx='100' cy='55' r='2' fill='%23e0f7ff' opacity='0.8'/%3E%3Cellipse cx='100' cy='90' rx='36.75' ry='6.5' fill='url(%23hatGreen)'/%3E%3Cellipse cx='100' cy='92' rx='34.65' ry='2.5' fill='%23000000' opacity='0.18'/%3E%3Cellipse cx='100' cy='94' rx='32' ry='1.8' fill='%23000000' opacity='0.12'/%3E%3Cellipse cx='100' cy='89' rx='34.65' ry='5' fill='%23d0ff90' opacity='0.5'/%3E%3Cellipse cx='100' cy='87' rx='31.5' ry='2' fill='%23ffffff' opacity='0.35'/%3E%3Cellipse cx='100' cy='95' rx='33' ry='6' fill='%23f8f8f8'/%3E%3Cellipse cx='100' cy='94' rx='31' ry='4' fill='%23f0f0f0'/%3E%3Cellipse cx='49' cy='140' rx='13' ry='23' fill='%23000000' opacity='0.06'/%3E%3Cellipse cx='151' cy='140' rx='13' ry='23' fill='%23000000' opacity='0.06'/%3E%3Cellipse cx='100' cy='133' rx='8' ry='3' fill='%23000000' opacity='0.04'/%3E%3Cpath d='M 74 115 Q 78 113 81 115' stroke='%23003344' stroke-width='2.8' fill='none' stroke-linecap='round'/%3E%3Cpath d='M 126 115 Q 122 113 119 115' stroke='%23003344' stroke-width='2.8' fill='none' stroke-linecap='round'/%3E%3Cellipse cx='79' cy='123' rx='16.56' ry='19.85' fill='%23ffffff'/%3E%3Cellipse cx='121' cy='123' rx='16.56' ry='19.85' fill='%23ffffff'/%3E%3Cellipse cx='79' cy='120' rx='14.75' ry='4.97' fill='%23e0f0ff' opacity='0.5'/%3E%3Cellipse cx='121' cy='120' rx='14.75' ry='4.97' fill='%23e0f0ff' opacity='0.5'/%3E%3Cellipse cx='79' cy='132' rx='14.75' ry='3.5' fill='%23000000' opacity='0.35'/%3E%3Cellipse cx='121' cy='132' rx='14.75' ry='3.5' fill='%23000000' opacity='0.35'/%3E%3Cellipse cx='79' cy='125' rx='12.34' ry='15.72' fill='%23334455'/%3E%3Cellipse cx='121' cy='125' rx='12.34' ry='15.72' fill='%23334455'/%3E%3Cellipse cx='79' cy='126' rx='9.94' ry='13.44' fill='%23000000'/%3E%3Cellipse cx='121' cy='126' rx='9.94' ry='13.44' fill='%23000000'/%3E%3Cellipse cx='82' cy='118' rx='9.5' ry='11.5' fill='%23ffffff' opacity='0.7'/%3E%3Cellipse cx='124' cy='118' rx='9.5' ry='11.5' fill='%23ffffff' opacity='0.7'/%3E%3Cellipse cx='76' cy='130' rx='3.85' ry='4.37' fill='%23DFF6FF' opacity='0.4'/%3E%3Cellipse cx='118' cy='130' rx='3.85' ry='4.37' fill='%23DFF6FF' opacity='0.4'/%3E%3Ccircle cx='83.5' cy='120.5' r='1.4' fill='%23ffffff' opacity='0.6'/%3E%3Ccircle cx='125.5' cy='120.5' r='1.4' fill='%23ffffff' opacity='0.6'/%3E%3Cellipse cx='52' cy='135' rx='9' ry='7' fill='url(%23cheekGrad)'/%3E%3Cellipse cx='148' cy='135' rx='9' ry='7' fill='url(%23cheekGrad)'/%3E%3Cellipse cx='50' cy='133' rx='3' ry='2' fill='%23EAFBFF' opacity='0.5'/%3E%3Cellipse cx='150' cy='133' rx='3' ry='2' fill='%23EAFBFF' opacity='0.5'/%3E%3Cpath d='M 87 132 Q 100 145 113 132' stroke='%23003344' stroke-width='2.5' fill='none' stroke-linecap='round'/%3E%3Cpath d='M 89 133 Q 100 143 111 133' fill='%23ff7799'/%3E%3Cellipse cx='100' cy='137' rx='11.7' ry='6.5' fill='%23dd6688' opacity='0.8'/%3E%3Cellipse cx='100' cy='135' rx='10' ry='2' fill='%23000000' opacity='0.12'/%3E%3Cellipse cx='100' cy='134' rx='9' ry='2.5' fill='%23EAFBFF' opacity='0.5'/%3E%3Cellipse cx='94' cy='138' rx='2.5' ry='3' fill='%23DFF6FF' opacity='0.4'/%3E%3Cellipse cx='106' cy='138' rx='2.5' ry='3' fill='%23DFF6FF' opacity='0.4'/%3E%3C/svg%3E" 
           class="mascot-logo" 
           alt="Zero Shake Mascot">
      
      <span data-icon="‚óà">10% OFF</span>
      <span data-icon="‚ü°">BATIDO GRATIS</span>
      <span data-icon="‚¨°">UPGRADE PROTE√çNA</span>
      <span data-icon="‚ú¶">PREMIO SORPRESA</span>
      <span data-icon="‚úï">SIGUE CUID√ÅNDOTE</span>
    </div>
  </div>

  <div class="result" id="resultado"></div>
  <div class="small">1 c√≥digo = 1 giro</div>
</div>

<script>
  function createFloatingParticles() {
    const container = document.getElementById('particles');
    const particleCount = 15;
    
    for (let i = 0; i < particleCount; i++) {
      const particle = document.createElement('div');
      particle.className = 'particle';
      
      const size = Math.random() * 60 + 20;
      particle.style.width = size + 'px';
      particle.style.height = size + 'px';
      
      particle.style.left = Math.random() * 100 + '%';
      
      const duration = Math.random() * 15 + 10;
      particle.style.animationDuration = duration + 's';
      
      particle.style.animationDelay = Math.random() * 5 + 's';
      
      container.appendChild(particle);
    }
  }
  
  createFloatingParticles();
  
  // Crear part√≠culas m√°gicas alrededor de la ruleta
  function createMagicParticles() {
    const container = document.getElementById('magicParticles');
    const particleCount = 30;
    const radius = 224; // Radio de la ruleta
    
    for (let i = 0; i < particleCount; i++) {
      const particle = document.createElement('div');
      particle.className = 'magic-particle';
      
      // Posici√≥n inicial aleatoria en el c√≠rculo
      const angle = (Math.PI * 2 * i) / particleCount + Math.random() * 0.5;
      const distance = radius + Math.random() * 30;
      
      const startX = Math.cos(angle) * distance + radius;
      const startY = Math.sin(angle) * distance + radius;
      
      particle.style.left = startX + 'px';
      particle.style.top = startY + 'px';
      
      // Movimiento aleatorio
      const moveAngle = angle + Math.random() * Math.PI / 4 - Math.PI / 8;
      const moveDistance = 30 + Math.random() * 40;
      const tx = Math.cos(moveAngle) * moveDistance;
      const ty = Math.sin(moveAngle) * moveDistance;
      
      particle.style.setProperty('--tx', tx + 'px');
      particle.style.setProperty('--ty', ty + 'px');
      
      // Duraci√≥n y delay aleatorios
      const duration = 3 + Math.random() * 3;
      const delay = Math.random() * 4;
      
      particle.style.animationDuration = duration + 's';
      particle.style.animationDelay = delay + 's';
      
      container.appendChild(particle);
    }
  }
  
  createMagicParticles();
  
  // Sistema de sonidos sutiles
  const audioContext = new (window.AudioContext || window.webkitAudioContext)();
  
  function playClickSound() {
    const oscillator = audioContext.createOscillator();
    const gainNode = audioContext.createGain();
    
    oscillator.connect(gainNode);
    gainNode.connect(audioContext.destination);
    
    oscillator.frequency.value = 800;
    oscillator.type = 'sine';
    
    gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
    gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.1);
    
    oscillator.start(audioContext.currentTime);
    oscillator.stop(audioContext.currentTime + 0.1);
  }
  
  function playSpinSound() {
    const oscillator = audioContext.createOscillator();
    const gainNode = audioContext.createGain();
    
    oscillator.connect(gainNode);
    gainNode.connect(audioContext.destination);
    
    oscillator.frequency.setValueAtTime(200, audioContext.currentTime);
    oscillator.frequency.exponentialRampToValueAtTime(600, audioContext.currentTime + 0.3);
    oscillator.type = 'sine';
    
    gainNode.gain.setValueAtTime(0.15, audioContext.currentTime);
    gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);
    
    oscillator.start(audioContext.currentTime);
    oscillator.stop(audioContext.currentTime + 0.3);
  }
  
  function playWinSound() {
    const oscillator1 = audioContext.createOscillator();
    const oscillator2 = audioContext.createOscillator();
    const gainNode = audioContext.createGain();
    
    oscillator1.connect(gainNode);
    oscillator2.connect(gainNode);
    gainNode.connect(audioContext.destination);
    
    oscillator1.frequency.value = 523.25; // C5
    oscillator2.frequency.value = 659.25; // E5
    oscillator1.type = 'sine';
    oscillator2.type = 'sine';
    
    gainNode.gain.setValueAtTime(0.2, audioContext.currentTime);
    gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);
    
    oscillator1.start(audioContext.currentTime);
    oscillator2.start(audioContext.currentTime + 0.1);
    oscillator1.stop(audioContext.currentTime + 0.5);
    oscillator2.stop(audioContext.currentTime + 0.6);
  }

  const WEBHOOK_URL = "https://felipardo0.app.n8n.cloud/webhook/ruleta-validar";
  
  const premiosMap = {
    "10% OFF": 0,
    "BATIDO GRATIS": 1,
    "UPGRADE PROTE√çNA": 2,
    "PREMIO SORPRESA": 3,
    "SIGUE CUID√ÅNDOTE": 4
  };

  const codigosUsados = {};
  
  // Funci√≥n para crear part√≠culas de electricidad est√°tica
  function createElectricParticles() {
    const wheel = document.getElementById("wheel");
    const container = wheel.parentElement;
    const numParticles = 25; // Cantidad de rayos
    
    for (let i = 0; i < numParticles; i++) {
      setTimeout(() => {
        const particle = document.createElement('div');
        particle.className = 'electric-particle';
        
        // Posici√≥n aleatoria alrededor de la ruleta (radio 224px + offset)
        const angle = Math.random() * 360;
        const radius = 224 + Math.random() * 30;
        const x = Math.cos(angle * Math.PI / 180) * radius;
        const y = Math.sin(angle * Math.PI / 180) * radius;
        
        particle.style.left = `calc(50% + ${x}px)`;
        particle.style.top = `calc(50% + ${y}px)`;
        particle.style.transform = `rotate(${angle + 90}deg)`;
        
        // Variaci√≥n en altura y grosor
        particle.style.height = (15 + Math.random() * 10) + 'px';
        particle.style.width = (2 + Math.random() * 2) + 'px';
        
        container.appendChild(particle);
        
        // Eliminar despu√©s de la animaci√≥n
        setTimeout(() => {
          particle.remove();
        }, 400);
      }, i * 50); // Aparecen escalonadamente cada 50ms
    }
  }
  
  // Funci√≥n para crear confetti premium
  function createConfetti() {
    const colors = ['cyan', 'gold'];
    const numConfetti = 80; // Cantidad de confetti
    
    for (let i = 0; i < numConfetti; i++) {
      setTimeout(() => {
        const confetti = document.createElement('div');
        confetti.className = `confetti ${colors[Math.floor(Math.random() * colors.length)]}`;
        
        // Posici√≥n horizontal aleatoria
        confetti.style.left = Math.random() * 100 + '%';
        
        // Tama√±o aleatorio
        const size = 8 + Math.random() * 6;
        confetti.style.width = size + 'px';
        confetti.style.height = size + 'px';
        
        // Duraci√≥n de ca√≠da aleatoria
        const duration = 2 + Math.random() * 2;
        confetti.style.animation = `confettiFall ${duration}s linear forwards`;
        
        // Delay aleatorio para efecto m√°s natural
        confetti.style.animationDelay = Math.random() * 0.5 + 's';
        
        document.body.appendChild(confetti);
        
        // Eliminar despu√©s de la animaci√≥n
        setTimeout(() => {
          confetti.remove();
        }, (duration + 0.5) * 1000);
      }, i * 30); // Aparecen escalonadamente cada 30ms
    }
  }
  
  // Funci√≥n para resaltar el segmento ganador
  function highlightWinningSegment(premioNombre) {
    const wheel = document.getElementById("wheel");
    const spans = wheel.querySelectorAll('span');
    
    // Mapeo de premios a nth-child
    const premioToChild = {
      "10% OFF": 3,
      "BATIDO GRATIS": 4,
      "UPGRADE PROTE√çNA": 5,
      "PREMIO SORPRESA": 6,
      "SIGUE CUID√ÅNDOTE": 7
    };
    
    const childIndex = premioToChild[premioNombre];
    if (childIndex) {
      wheel.classList.add('winner-highlight');
      const winningSpan = wheel.querySelector(`span:nth-child(${childIndex})`);
      if (winningSpan) {
        winningSpan.classList.add('winning-segment');
      }
    }
  }

  async function girar() {
    const input = document.getElementById("codigo").value;
    const codigo = input.toUpperCase().trim();
    const wheel = document.getElementById("wheel");
    const resultado = document.getElementById("resultado");
    const boton = document.querySelector("button");
    const card = document.querySelector(".card");

    if (!codigo) {
      resultado.innerText = "‚ö†Ô∏è Ingresa un c√≥digo";
      return;
    }

    if (codigosUsados[codigo]) {
      resultado.innerText = "üö´ Este c√≥digo ya fue usado en esta sesi√≥n";
      return;
    }

    boton.disabled = true;
    boton.classList.add('charging');
    resultado.innerHTML = '<span class="loading">Verificando c√≥digo<span class="loading-dots"></span></span>';
    
    // Sonido de click al presionar
    playClickSound();
    
    // Quitar clase charging despu√©s de la animaci√≥n
    setTimeout(() => {
      boton.classList.remove('charging');
    }, 800);

    try {
      const response = await fetch(WEBHOOK_URL, {
        method: "POST",
        headers: {
          "Content-Type": "application/json"
        },
        body: JSON.stringify({ codigo: codigo })
      });

      const data = await response.json();

      if (!data.ok) {
        resultado.innerText = data.message || "‚ùå C√≥digo inv√°lido o ya utilizado";
        boton.disabled = false;
        return;
      }

      const premioRecibido = data.premio;
      const indicePremio = premiosMap[premioRecibido];

      if (indicePremio === undefined) {
        resultado.innerText = "‚ö†Ô∏è Error: Premio no reconocido";
        boton.disabled = false;
        return;
      }

      resultado.innerText = "";

      // Mini vibraci√≥n inicial
      wheel.style.transition = 'transform 0.05s ease-in-out';
      wheel.style.transform = 'rotate(-5deg)';
      
      setTimeout(() => {
        wheel.style.transform = 'rotate(5deg)';
      }, 50);
      
      setTimeout(() => {
        wheel.style.transition = 'none';
        wheel.style.transform = 'rotate(0deg)';
        wheel.style.animation = 'none'; // Pausar animaci√≥n idle
        
        void wheel.offsetWidth;
        
        // Agregar efecto spinning, 3D y sonido
        const wheelContainer = document.querySelector('.wheel-container');
        const mascot = document.querySelector('.mascot-logo');
        wheel.classList.add('spinning');
        wheelContainer.classList.add('spinning-3d');
        mascot.classList.add('excited'); // Expresi√≥n de emoci√≥n
        playSpinSound();
        
        // Agregar parpadeo sutil m√°s lento mientras gira
        wheel.style.animation = 'wheelPulse 1.8s ease-in-out infinite';
        
        // Aceleraci√≥n fuerte y desaceleraci√≥n con easing suave y micro rebote corto
        wheel.style.transition = 'transform 4.5s cubic-bezier(0.34, 1.15, 0.64, 1)';

        const centrosSegmentos = [180, 252, 324, 36, 104];
        const anguloDelPremio = centrosSegmentos[indicePremio];
        let rotacionNecesaria = 180 - anguloDelPremio;
        
        const vueltas = 5 + Math.floor(Math.random() * 3);
        const anguloFinal = vueltas * 360 + rotacionNecesaria;
        
        wheel.style.transform = `rotate(${anguloFinal}deg)`;
        
        // Quitar efecto spinning, parpadeo y mantener la ruleta quieta en su posici√≥n final
        setTimeout(() => {
          const wheelContainer = document.querySelector('.wheel-container');
          const mascot = document.querySelector('.mascot-logo');
          wheel.classList.remove('spinning');
          wheelContainer.classList.remove('spinning-3d');
          mascot.classList.remove('excited'); // Quitar expresi√≥n de emoci√≥n
          wheel.classList.add('winner'); // Agregar efecto de glow ganador
          wheel.style.animation = 'none'; // Pausar animaci√≥n idle para mantener la ruleta quieta
          
          // Crear part√≠culas de electricidad est√°tica
          createElectricParticles();
          
          // Resaltar segmento ganador (solo si NO es SIGUE CUID√ÅNDOTE)
          if (premioRecibido !== "SIGUE CUID√ÅNDOTE") {
            highlightWinningSegment(premioRecibido);
          }
        }, 4500);
      }, 100);
      
      codigosUsados[codigo] = premioRecibido;

      setTimeout(() => {
        if (premioRecibido === "SIGUE CUID√ÅNDOTE") {
          resultado.innerHTML = `<div class="try-again">‚ú¶ Sigue intent√°ndolo</div>`;
        } else {
          // Sonido de victoria
          playWinSound();
          
          // Crear confetti premium
          createConfetti();
          
          // Crear overlay premium
          const overlay = document.createElement('div');
          overlay.className = 'prize-overlay';
          
          // Obtener icono del premio
          const iconMap = {
            "10% OFF": "‚óà",
            "BATIDO GRATIS": "‚ü°",
            "UPGRADE PROTE√çNA": "‚¨°",
            "PREMIO SORPRESA": "‚ú¶"
          };
          
          // Agregar clase golden si es PREMIO SORPRESA
          if (premioRecibido === "PREMIO SORPRESA") {
            overlay.classList.add('golden');
          }
          
          overlay.innerHTML = `
            <div class="prize-particles" id="prizeParticles"></div>
            <div class="prize-card">
              <div class="prize-icon">${iconMap[premioRecibido]}</div>
              <div class="prize-title">¬°Felicidades!</div>
              <div class="prize-name">${premioRecibido}</div>
              <button class="prize-cta" id="claimBtn">
                RECLAMAR PREMIO
              </button>
            </div>
          `;
          
          document.body.appendChild(overlay);
          
          // Event listener para quitar glow y abrir WhatsApp
          document.getElementById('claimBtn').addEventListener('click', () => {
            wheel.classList.remove('winner');
            wheel.classList.remove('winner-highlight');
            const winningSpan = wheel.querySelector('.winning-segment');
            if (winningSpan) winningSpan.classList.remove('winning-segment');
            overlay.remove();
            window.open('https://wa.me/56912345678', '_blank');
          });
          
          // Click fuera del overlay DESHABILITADO - solo se puede cerrar con el bot√≥n RECLAMAR PREMIO
          // Evento deshabilitado - el overlay solo se cierra con el bot√≥n o refrescando
          // overlay.addEventListener('click', (e) => {
          //   if (e.target === overlay) {
          //     wheel.classList.remove('winner');
          //     wheel.classList.remove('winner-highlight');
          //     const winningSpan = wheel.querySelector('.winning-segment');
          //     if (winningSpan) winningSpan.classList.remove('winning-segment');
          //     overlay.remove();
          //   }
          // });
          
          // Crear part√≠culas flotantes
          const particlesContainer = document.getElementById('prizeParticles');
          for (let i = 0; i < 20; i++) {
            const particle = document.createElement('div');
            particle.className = 'prize-particle';
            particle.style.left = Math.random() * 100 + '%';
            particle.style.animationDelay = Math.random() * 2 + 's';
            particle.style.animationDuration = (2 + Math.random() * 2) + 's';
            particlesContainer.appendChild(particle);
          }
          
          resultado.innerHTML = '';
        }
        boton.disabled = false;
      }, 6200);

    } catch (error) {
      console.error("Error al validar c√≥digo:", error);
      resultado.innerText = "‚ö†Ô∏è Error de conexi√≥n. Intenta de nuevo";
      boton.disabled = false;
    }
  }
</script>

</body>
</html>
