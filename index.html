<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Ruleta Zero Shake</title>

<style>
body{
  margin:0;
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:linear-gradient(135deg,#004d40,#00bfa5);
  font-family:system-ui;
}

.card{
  width:360px;
  padding:25px;
  border-radius:20px;
  background:rgba(255,255,255,.1);
  backdrop-filter:blur(12px);
  box-shadow:0 20px 50px rgba(0,0,0,.35);
  text-align:center;
  color:white;
}

input,button{
  width:100%;
  padding:14px;
  border-radius:12px;
  border:none;
  margin-top:15px;
  font-size:15px;
}

button{
  background:linear-gradient(135deg,#1dd1a1,#10ac84);
  font-weight:700;
  cursor:pointer;
}

.wheel-container{
  position:relative;
  width:260px;
  height:260px;
  margin:30px auto;
}

.wheel{
  width:100%;
  height:100%;
  border-radius:50%;
  border:10px solid rgba(255,255,255,.15);
  background:conic-gradient(
    #1dd1a1 0deg 72deg,
    #10ac84 72deg 144deg,
    #48dbfb 144deg 216deg,
    #00d2d3 216deg 288deg,
    #576574 288deg 360deg
  );
  position:relative;
  transition:transform 4.5s cubic-bezier(.15,.85,.25,1);
}

.wheel span{
  position:absolute;
  top:50%;
  left:50%;
  transform-origin:0 0;
  width:90px;
  text-align:center;
  font-size:12px;
  font-weight:600;
  background:rgba(0,0,0,.25);
  padding:6px;
  border-radius:8px;
  backdrop-filter:blur(4px);
}

/* 72Â° por segmento */
.wheel span:nth-child(1){ transform:rotate(36deg) translateX(85px) rotate(-36deg); }
.wheel span:nth-child(2){ transform:rotate(108deg) translateX(85px) rotate(-108deg); }
.wheel span:nth-child(3){ transform:rotate(180deg) translateX(85px) rotate(-180deg); }
.wheel span:nth-child(4){ transform:rotate(252deg) translateX(85px) rotate(-252deg); }
.wheel span:nth-child(5){ transform:rotate(324deg) translateX(85px) rotate(-324deg); }

.needle{
  position:absolute;
  top:-18px;
  left:50%;
  transform:translateX(-50%);
  width:0;
  height:0;
  border-left:14px solid transparent;
  border-right:14px solid transparent;
  border-bottom:40px solid #ff3f3f;
  filter:drop-shadow(0 0 10px rgba(255,63,63,.8));
  z-index:10;
}

.result{
  margin-top:15px;
  font-weight:700;
}
</style>
</head>

<body>
<div class="card">
  <h1>ğŸ° Ruleta Zero Shake</h1>
  <p>Ingresa tu cÃ³digo y gira</p>

  <input id="codigo" placeholder="Ej: ZS-DEMO-01">
  <button onclick="girar()">Girar ruleta</button>

  <div class="wheel-container">
    <div class="needle"></div>
    <div class="wheel" id="wheel">
      <span>ğŸ’š 10% OFF</span>
      <span>ğŸ¥¤ Batido gratis</span>
      <span>ğŸ½ï¸ Upgrade proteÃ­na</span>
      <span>ğŸŸï¸ 2x1</span>
      <span>âŒ Sigue cuidÃ¡ndote</span>
    </div>
  </div>

  <div class="result" id="resultado"></div>
  <div class="small">1 cÃ³digo = 1 giro</div>
</div>

<script>
const premios = [
  "ğŸ’š 10% OFF",
  "ğŸ¥¤ Batido gratis",
  "ğŸ½ï¸ Upgrade proteÃ­na",
  "ğŸŸï¸ 2x1",
  "âŒ Sigue cuidÃ¡ndote"
];

const codigosValidos = ["ZS-DEMO-01","ZS-PROMO-22","ZS-FIT-33"];
const usados = {};
const SEGMENTO = 72;

function girar(){
  const codigo = document.getElementById("codigo").value.trim().toUpperCase();
  const wheel = document.getElementById("wheel");
  const res = document.getElementById("resultado");

  if(!codigo) return res.innerText="âš ï¸ Ingresa un cÃ³digo";
  if(!codigosValidos.includes(codigo)) return res.innerText="âŒ CÃ³digo invÃ¡lido";
  if(usados[codigo]) return res.innerText="ğŸš« CÃ³digo ya usado";

  const vueltas = 5 + Math.floor(Math.random()*3);
  const offset = Math.floor(Math.random()*360);
  const total = vueltas*360 + offset;

  wheel.style.transform = `rotate(${total}deg)`;

  const angulo = (360 - (offset % 360)) % 360;
  const index = Math.floor(angulo / SEGMENTO);
  const premio = premios[index];

  usados[codigo] = true;

  setTimeout(()=>{
    res.innerText = premio.includes("âŒ")
      ? "ğŸ’š Sigue cuidÃ¡ndote, vuelve pronto"
      : `ğŸ‰ Ganaste: ${premio}`;
  },4500);
}
</script>
</body>
</html>
